# Apollos AI Environment Configuration
# ======================================
# Copy this file to usr/.env and fill in your values.
# See docs/reference/environment-variables.md for full documentation.
#
# Apollos AI reads variables from two sources (in priority order):
#   1. usr/.env  (this file, loaded via python-dotenv)
#   2. System environment variables
#
# The usr/.env file is gitignored and never committed.

# ─────────────────────────────────────────────────────────────────
# API Keys (Provider Authentication)
# ─────────────────────────────────────────────────────────────────
# Uncomment and set the key(s) for your chosen provider(s).
# Primary pattern: API_KEY_{PROVIDER} (this is what the app writes when you save via the UI).
# Alternative patterns also accepted: {PROVIDER}_API_KEY, {PROVIDER}_API_TOKEN.
# Provider IDs match conf/model_providers.yaml (uppercased).

# API_KEY_ANTHROPIC=sk-ant-...
# API_KEY_OPENAI=sk-...
# API_KEY_GOOGLE=...
# API_KEY_OPENROUTER=sk-or-...
# API_KEY_DEEPSEEK=...
# API_KEY_GROQ=gsk_...
# API_KEY_MISTRAL=...
# API_KEY_XAI=...
# API_KEY_HUGGINGFACE=hf_...
# API_KEY_AZURE=...
# API_KEY_BEDROCK=...
# API_KEY_SAMBANOVA=...
# API_KEY_LITELLM_PROXY=...
# API_KEY_MOONSHOT=...
# API_KEY_COMETAPI=...
# API_KEY_GITHUB_COPILOT=...
# API_KEY_OLLAMA=
# API_KEY_LM_STUDIO=
# API_KEY_A0_VENICE=...
# API_KEY_VENICE=...
# API_KEY_ZAI=...
# API_KEY_ZAI_CODING=...
# API_KEY_OTHER=

# ─────────────────────────────────────────────────────────────────
# API Base URLs (Provider Endpoints)
# ─────────────────────────────────────────────────────────────────
# Override the default base URL for a provider.
# Pattern: {PROVIDER}_API_BASE
# Precedence: UI Settings > Env var > YAML default

# LITELLM_PROXY_API_BASE=http://localhost:4000/v1
# OLLAMA_API_BASE=http://localhost:11434

# ─────────────────────────────────────────────────────────────────
# Authentication & Security
# ─────────────────────────────────────────────────────────────────
# Legacy single-user auth: set both to gate access with one shared login.
# For multi-user auth with individual accounts, use ADMIN_EMAIL/ADMIN_PASSWORD
# below instead (or OIDC for SSO). These remain as a backward-compatible
# fallback and are checked if the multi-user auth system has no match.

# AUTH_LOGIN=
# AUTH_PASSWORD=

# Generate with: `python3 -c "import secrets, string; print(''.join(secrets.choice(string.ascii_letters + string.digits) for _ in range(32)))"`
# ROOT_PASSWORD=

# Generate with: `python3 -c "import secrets; print(secrets.token_urlsafe(32))"`
# RFC_PASSWORD=

# Flask session signing key (64-char hex). Auto-generated at startup if unset.
# Generate with: `python3 -c "import secrets; print(secrets.token_hex(32))"`
# FLASK_SECRET_KEY=

# ─────────────────────────────────────────────────────────────────
# Multi-User Auth Database
# ─────────────────────────────────────────────────────────────────
# SQLAlchemy connection string for the auth database.
# Default: sqlite:///usr/auth.db (single-node Docker)
# Production: postgresql://user:pass@pg-host:5432/apollos_auth
# AUTH_DATABASE_URL=sqlite:///usr/auth.db

# Master encryption key for the API key vault (AES-256-GCM).
# Must be a 64-character hex string (256 bits).
# Generate with: `python3 -c "import secrets; print(secrets.token_hex(32))"`
# VAULT_MASTER_KEY=

# Bootstrap admin account (created on first launch if set).
# ADMIN_EMAIL=admin@example.com
# ADMIN_PASSWORD=

# ─────────────────────────────────────────────────────────────────
# EntraID OIDC SSO
# ─────────────────────────────────────────────────────────────────
# Microsoft Entra ID app registration for user SSO login.
# All three are required to enable SSO (the login page will show an SSO button).
# OIDC_TENANT_ID=
# OIDC_CLIENT_ID=
# OIDC_CLIENT_SECRET=
# Explicit callback URL. If unset, auto-generated as http://{host}:{port}/auth/callback.
# Set explicitly in production behind a reverse proxy (e.g., https://your-domain.com/auth/callback).
# OIDC_REDIRECT_URI=http://localhost:5000/auth/callback

# ─────────────────────────────────────────────────────────────────
# Server & Networking
# ─────────────────────────────────────────────────────────────────

# WEB_UI_HOST=localhost
# WEB_UI_PORT=5000
# TUNNEL_API_PORT=0

# ─────────────────────────────────────────────────────────────────
# Settings Overrides (A0_SET_*)
# ─────────────────────────────────────────────────────────────────
# Any UI setting can be overridden here with the A0_SET_ prefix.
# Case-insensitive. Type is auto-coerced to match the setting default.

# --- Chat Model ---
# A0_SET_CHAT_MODEL_PROVIDER=litellm_proxy
# A0_SET_CHAT_MODEL_NAME=gpt-5-mini
# A0_SET_CHAT_MODEL_CTX_LENGTH=128000

# Original Variable Defaults
# A0_SET_CHAT_MODEL_PROVIDER=openrouter
# A0_SET_CHAT_MODEL_NAME=google/gemini-3-pro-preview
# A0_SET_CHAT_MODEL_CTX_LENGTH=100000
# A0_SET_CHAT_MODEL_KWARGS={"temperature": "0"}

# --- Utility Model ---
# A0_SET_UTIL_MODEL_PROVIDER=litellm_proxy
# A0_SET_UTIL_MODEL_NAME=gpt-5-mini

# Original Variable Defaults
# A0_SET_UTIL_MODEL_PROVIDER=openrouter
# A0_SET_UTIL_MODEL_NAME=google/gemini-3-flash-preview

# --- Embedding Model ---
# A0_SET_EMBED_MODEL_PROVIDER=litellm_proxy
# A0_SET_EMBED_MODEL_NAME=text-embedding-3-small

# Original Variable Defaults
# A0_SET_EMBED_MODEL_PROVIDER=huggingface
# A0_SET_EMBED_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2

# --- Browser Model ---
# A0_SET_BROWSER_MODEL_PROVIDER=litellm_proxy
# A0_SET_BROWSER_MODEL_NAME=gpt-5-mini

# Original Variable Defaults
# A0_SET_BROWSER_MODEL_PROVIDER=openrouter
# A0_SET_BROWSER_MODEL_NAME=google/gemini-3-pro-preview

# --- Memory & Recall ---
# A0_SET_MEMORY_RECALL_ENABLED=true
# A0_SET_MEMORY_RECALL_INTERVAL=3
# A0_SET_MEMORY_RECALL_SIMILARITY_THRESHOLD=0.7
# A0_SET_MEMORY_MEMORIZE_ENABLED=true

# --- Agent & Workspace ---
# A0_SET_AGENT_PROFILE=apollos
# A0_SET_AGENT_MEMORY_SUBDIR=default
# A0_SET_WORKDIR_PATH=usr/workdir

# --- Code Execution (RFC) ---
# A0_SET_RFC_AUTO_DOCKER=true
# A0_SET_RFC_URL=localhost
# A0_SET_RFC_PORT_HTTP=55080
# A0_SET_RFC_PORT_SSH=55022
# A0_SET_SHELL_INTERFACE=ssh

# --- MCP & A2A ---
# A0_SET_MCP_SERVER_ENABLED=false
# A0_SET_A2A_SERVER_ENABLED=false
# Generate with: `python3 -c "import secrets; print(secrets.token_urlsafe(32))"`
# A2A_TOKEN=

# ─────────────────────────────────────────────────────────────────
# Branding Configuration
# ─────────────────────────────────────────────────────────────────
# Customize the project identity displayed in the UI, notifications,
# HTTP headers, and LLM prompts. All values are optional.
# Default values create an "Apollos AI" branded experience.

# BRAND_NAME=Apollos AI
# BRAND_SLUG=apollos-ai
# BRAND_URL=https://matherly.net
# BRAND_GITHUB_URL=https://github.com/jrmatherly/apollos-ai

# ─────────────────────────────────────────────────────────────────
# Debug & Development
# ─────────────────────────────────────────────────────────────────

# A0_WS_DEBUG=0
# A0_SET_UVICORN_ACCESS_LOGS_ENABLED=false
# macOS: Set to TRUE to prevent OMP Error #15 crash caused by duplicate
# libomp.dylib libraries bundled in faiss, torch, and sklearn.
# Automatically set to TRUE at startup; uncomment to override.
# KMP_DUPLICATE_LIB_OK=TRUE

# ─────────────────────────────────────────────────────────────────
# Auto-Generated Runtime Variables
# ─────────────────────────────────────────────────────────────────
# These are written to usr/.env automatically by the app.
# You do NOT need to set them manually — they are listed here for
# reference so you understand what they are when you see them.

# A0_PERSISTENT_RUNTIME_ID=       # Unique runtime ID, auto-generated on first start
# DEFAULT_USER_TIMEZONE=UTC       # Set from browser on first visit
# DEFAULT_USER_UTC_OFFSET_MINUTES=0  # Set from browser on first visit
# ANONYMIZED_TELEMETRY=false      # Auto-set to disable browser-use telemetry
# ALLOWED_ORIGINS=                # Auto-populated with your URL on first visit (CSRF)

# ─────────────────────────────────────────────────────────────────
# Secrets Store (usr/secrets.env)
# ─────────────────────────────────────────────────────────────────
# Apollos AI has a separate secrets file at usr/secrets.env, managed
# through the web UI (Settings > Secrets). It uses .env format and
# supports §§secret(KEY) placeholders for safe agent access.
# Do NOT edit usr/secrets.env manually — use the Settings UI instead.
